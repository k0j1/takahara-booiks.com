<!DOCTYPE html>
<html lang='en' class=''>

<head>
  <meta charset='UTF-8'>
  <title>MetaMaskテスト</title>

  <meta name="robots" content="noindex">

  <style class="INLINE_PEN_STYLESHEET_ID">
    body {
      word-break: break-all;
      word-wrap: break-word;
      margin-bottom: 50px;
    }
    
    textarea {
      line-height: 1.2em;
    }
  </style>
</head>

<body>
  <button class="enableEthereumButton">Enable Ethereum</button>
  <h2>Account: <span class="showAccount"></span></h2>
  
  <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.36/dist/web3.min.js" integrity="sha256-nWBTbvxhJgjslRyuAKJHK+XcZPlCnmIAAMixz6EefVk=" crossorigin="anonymous"></script>
  <script>
    const ethereumButton = document.querySelector('.enableEthereumButton');
    const showAccount = document.querySelector('.showAccount');

    // MetaMaskチェック
    if (typeof window.ethereum !== 'undefined') {
      alert("MetaMaskがインストールされています");
    } else {
      alert("MetaMaskをインストールされていません");
    }

    if(ethereumButton) 
    {
      ethereumButton.addEventListener('click', () => {
        getAccount();
      });
    }

    async function getAccount() {
      const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
      const account = accounts[0];
      showAccount.innerHTML = account;
    }
  </script>
</body>

</html>